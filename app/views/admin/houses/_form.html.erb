<div>


  <div class="">        
    <%= render "error_messages", house: house %>
  </div>
  
  <%= form_with model: house, url: url do |f| %>    

    <div class="my-4">
      <%= f.label :title, '新增房屋名稱' %>
      <%= f.text_field :title, class: 'form-field' %>
    </div>
    
    <div class="my-4">
      <%= f.label :description, '新增房屋描述' %>
      <%= f.rich_text_area :description, class: 'form-field' %>
    </div>

    <div class="my-4" data-controller="house-delete">
      <%= f.label :images, '廣告照片：' %>
      <%= f.file_field :images, multiple: true, accept: 'image/png, image/gif, image/jpeg', maxlength: 1.megabytes, class: 'form-field' %>

      <div class="grid grid-cols-4 gap-2">
        <% house.images.each do |image| %>
          <div class="relative">

            <% if image %>
            
            <%= link_to destroy_image_admin_house_path(house, image), data: {turbo_method: "delete", confirm: "確定刪除?"} do %>
            
              <div class= 'absolute top-0 right-0 flex items-center justify-center w-5 h-5 mt-2 mr-2 text-white bg-red-600 rounded-full '>
                <i class= "text-xs fa-solid fa-x"></i>
              </div>
            <% end %>
            <%= image_tag(image) %>

            <% end %>
          </div>
        <% end %>
        
      </div>
    </div>

    <div class="my-4">
      <%= f.label :description, '新增房屋電話' %>
      <%= f.text_field :tel, class: 'form-field' %>
    </div>

    <div class="my-4">
      <%= f.label :address, '新增房屋地址' %>
      <%= f.text_field :address, class: 'form-field' %>
    </div>

    <div class="my-4">
      <%= f.label :owner, '新增房東' %>
      <%= f.text_field :owner, class: 'form-field' %>
    </div>

    <div>      
      <%= f.submit class: 'btn-primary' %>
    </div>
    
  <% end %>
</div>
