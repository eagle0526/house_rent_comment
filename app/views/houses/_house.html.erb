<div id="<%= dom_id house %>">
  <section class="m-10" data-controller="root--card"
  						data-house-id="<%= house.id %>"
  						data-current-user-id="<%= current_user ? current_user.id : 'Logged out' %>">
  
  
    <!-- component -->	
    <div class='flex items-center justify-center my-10'>
	  <div class="p-4 items-center justify-center w-[1200px] rounded-xl group sm:flex space-x-6 bg-white bg-opacity-50 shadow-xl hover:rounded-2xl">
	  
	    <%# 這一段連結，是整張卡片的連結 %>
	    <%#= link_to house_path(house), class: "p-4 items-center justify-center w-[1200px] rounded-xl group sm:flex space-x-6 bg-white bg-opacity-50 shadow-xl 
		hover:rounded-2xl" do %>		

		  <%# card 圖片，之後要改成羅輪播圖 %>
		  <div class="w-1/3">
		  	<%# 這是單張圖片 %>
		    <%#= image_tag house.images.first, class: 'block h-100 mx-auto rounded-lg' %>
			
			<%# 這是輪播圖 %>
			<%= render "index_carousel", house: house %>
		  </div>
		  


			<%# 卡片右側區塊 %>
		    <div class="p-5 pl-0 sm:w-8/12">
			  <div class="space-y-2">
			    <%# 房屋標題 %>
			    <div class="space-y-4">
			  	  <h4 class="font-semibold text-justify text-md text-cyan-900">
			  	    <%= house.title %>
			  	  </h4>
			    </div>
			    <div class="space-y-4">
			  	  <h4 class="text-sm text-justify text-gray-500">
			  	    地址：<%= house.address %>
			  	  </h4>
			    </div>
			    <div class="flex items-center justify-between py-3 border-b-4">

			  	  <div class="gap-3" data-root--card-target="shortDescription">
			  		<p class="text-sm">
					  <span> <%= house.short_description %></span>
					  <span class="text-sm font-bold cursor-pointer hover:text-blue-500" data-action="click->root--card#showFullDescription">瀏覽全文</span>
					</p>
			  		
			  	  </div>
			  	  <div class="hidden" data-root--card-target="fullDescription">
			  		<span class="text-sm"><%= house.description %></span>
			  	  </div>
				  
			    </div>
				<%# 新增房屋時間 %>
			    <div class="flex items-center justify-between space-x-4">
			  	  <div class="flex flex-row my-4 space-x-1 text-grey-500">
			  	    <i class="fa-regular fa-clock"></i>
			  	    <p class="text-xs"><%= house.created_at.strftime("%Y/%m/%d") %></p>
			  	  </div>
			  	  <div class="flex flex-row my-4 space-x-1 text-grey-500">
			  	    <i class="fa-regular fa-comment-dots"></i>
			  	    <p class="text-xs"><%= house.comments.size %></p>
			  	  </div>
			  	  <div class="flex flex-row my-4 space-x-1 text-grey-500">			  	    
			  	    <i class="fa-regular fa-eye"></i>
			  	    <p class="text-xs">
					  <%#= house.impressionist_count(:filter => :session_hash) %>
					  <%= house.houses_count %>
					</p>
			  	  </div>
				  
              	  <%# 這一區塊是倒讚、正讚數 %>
			  	  <div class="flex flex-row space-x-1">
			  	    <div class="thumb-btn" data-action="click->root--card#decrease">
				  	  <span>
				  	    <i class="text-xl fa-regular fa-thumbs-down"></i>
				  	  </span>			  	      
			  	  	  <span data-root--card-target="houseDisLikeCount">
				  	    <%= house.like_states.house_false_count %>
				  	  </span>
			  	    </div>
			  	  	<div class="bg-green-500 thumb-btn shadow-green-600" data-action="click->root--card#increase">
				  	  <span>
				  	    <i class="text-xl fa-regular fa-thumbs-up"></i>
				  	  </span>			  		  
			  	  	  <span data-root--card-target="houseLikeCount">					    
			      		 <%= house.like_states.house_true_count %>
				  	  </span>
			  	  	</div>
			  	  </div>
			    </div>

			  </div>
		    </div>
		<%# end %>
	  </div>	  
    </div>
	
  </section>
</div>
